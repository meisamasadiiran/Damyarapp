import telebot
import random
import os
from telebot import types

# ุชูฺฉู ุฑุจุงุช ุฎูุฏ ุฑุง ุงูุฌุง ูุฑุงุฑ ุฏูุฏ
BOT_TOKEN = os.getenv('BOT_TOKEN', 'YOUR_BOT_TOKEN_HERE')

bot = telebot.TeleBot(BOT_TOKEN)

# ฺฉุงุฑุช ูุง ุชุงุฑูุช ู ูุนู ุขููุง
tarot_cards = {
    "ุงุญูู (The Fool)": "ุดุฑูุน ุฌุฏุฏุ ูุงุฌุฑุงุฌูุ ุจโูพุฑูุง ูุซุจุชุ ุขุฒุงุฏ ุงุฒ ุชุฑุณ",
    "ุฌุงุฏูฺฏุฑ (The Magician)": "ูุฏุฑุช ุงุฑุงุฏูุ ุฎูุงูุชุ ููุงุฑุชุ ุชูุงูุง ุชุญูู ุขุฑุฒููุง",
    "ฺฉุงููู ุนุงู (High Priestess)": "ุดููุฏุ ุญฺฉูุช ุฏุฑููุ ุงุณุฑุงุฑุ ูุฏุฑุช ุฒูุงูู",
    "ุงููพุฑุงุชูุฑุณ (The Empress)": "ูุงุฏุฑุ ุญุงุตูุฎุฒุ ุทุจุนุชุ ุนุดู ุจโูุฏ ู ุดุฑุท",
    "ุงููพุฑุงุชูุฑ (The Emperor)": "ุงูุชุฏุงุฑุ ุฑูุจุฑุ ูุธูุ ูพุฏุฑ ุณุงูุงุฑ",
    "ฺฉุดุด (The Hierophant)": "ุณูุชุ ุขููุฒุดุ ุฑุงูููุง ูุนููุ ุฏุงูุด ูุฐูุจ",
    "ุนุงุดูุงู (The Lovers)": "ุนุดูุ ุงูุชุฎุงุจุ ุฑุงุจุทูุ ููุงููฺฏ",
    "ุงุฑุงุจู (The Chariot)": "ูพุฑูุฒุ ุงุฑุงุฏู ููุ ฺฉูุชุฑูุ ุญุฑฺฉุช ุจู ุฌูู",
    "ูุฏุฑุช (Strength)": "ุดุฌุงุนุช ุฏุฑููุ ฺฉูุชุฑู ุฎูุดุชูุ ุตุจุฑุ ูุฏุฑุช ููุงู",
    "ุฏุฑููฺฏุฑุง (The Hermit)": "ุฌุณุชุฌู ุฏุฑููุ ุฎููุชุ ุญฺฉูุชุ ุฑุงูููุง",
    "ฺุฑุฎ ุจุฎุช (Wheel of Fortune)": "ุชุบุฑุ ุดุงูุณุ ุณุฑููุดุชุ ฺุฑุฎู ุฒูุฏฺฏ",
    "ุนุฏุงูุช (Justice)": "ุชูุงุฒูุ ุงูุตุงูุ ูุงูููุ ุนูุงูุจ ุงุนูุงู",
    "ุขูุฎุชู (The Hanged Man)": "ูุฑุจุงูุ ูฺฏุงู ูุชูุงูุชุ ุตุจุฑุ ุฑูุง",
    "ูุฑฺฏ (Death)": "ุชุญููุ ูพุงุงู ู ุดุฑูุนุ ุชุบุฑ ุจูุงุฏุ ุชููุฏ ุฏูุจุงุฑู",
    "ุงุนุชุฏุงู (Temperance)": "ุชุนุงุฏูุ ูุงููโุฑูุ ุขุฑุงูุดุ ููุงููฺฏ",
    "ุดุทุงู (The Devil)": "ูุงุจุณุชฺฏุ ูุญุฏูุฏุชุ ูุณูุณูุ ูุงุฏโฺฏุฑุง",
    "ุจุฑุฌ (The Tower)": "ุชุบุฑ ูุงฺฏูุงูุ ูุฑุงูุ ุขุดูุชฺฏุ ุจุฏุงุฑ",
    "ุณุชุงุฑู (The Star)": "ุงูุฏุ ุงููุงูุ ุขุฑุฒูุ ุดูุง",
    "ูุงู (The Moon)": "ุชูููุ ุชุฑุณุ ูุงุขฺฏุงูุ ุฑุคุง",
    "ุฎูุฑุดุฏ (The Sun)": "ุดุงุฏุ ููููุชุ ุญุงุชุ ูุซุจุช ุงูุฏุด",
    "ูุถุงูุช (Judgement)": "ุฑุณุชฺฏุงุฑุ ุจุฎุดุดุ ุจุฏุงุฑุ ุดุฑูุน ุฏูุจุงุฑู",
    "ุฌูุงู (The World)": "ุชฺฉููุ ููููุชุ ุชุญูู ูุฏูุ ฺฉูุงู"
}

# ูพุงูโูุง ุงูฺฏุฒุด
motivational_messages = [
    "โจ ุงุฏุช ุจุงุดู ฺฉู ูุฑ ูพุงุงูุ ุดุฑูุน ุฌุฏุฏ ูุณุช",
    "๐ ูุฏุฑุช ุชุบุฑ ุฒูุฏฺฏุช ุชู ุฏุณุชุงู ุฎูุฏุชู",
    "๐ซ ุจู ุดููุฏุช ุงุนุชูุงุฏ ฺฉูุ ุฑุงู ุฏุฑุณุช ุฑู ูุดููุช ูุฏู",
    "๐ ฺฏุงู ุจุงุฏ ุตุจุฑ ฺฉู ุชุง ุฒูุงู ููุงุณุจ ูุฑุง ุจุฑุณู",
    "โ๏ธ ูุฑ ฺุงูุด ูุฑุตุช ุจุฑุง ุฑุดุฏ ู ุงุฏฺฏุฑ ุงุณุช"
]

@bot.message_handler(commands=['start'])
def send_welcome(message):
    welcome_text = """
๐ฎ ุณูุงู! ุจู ุฑุจุงุช ูุงู ุชุงุฑูุช ุฎูุด ุงููุฏ! 

ุจุฑุง ฺฏุฑูุชู ูุงู ุชฺฉ ูุชุ ฺฉุงูู ุณูุงูุช ุฑู ุจูพุฑุณ ุง ุงุฒ ุฏุณุชูุฑุงุช ุฒุฑ ุงุณุชูุงุฏู ฺฉู:

/tarot - ูุงู ุชฺฉ ูุช ุชุงุฑูุช
/help - ุฑุงูููุง

โจ ุณูุงูุช ุฑู ุจุง ุชูุฑฺฉุฒ ุจูพุฑุณ ุชุง ุจูุชุฑู ูพุงุณุฎ ุฑู ุจฺฏุฑ
    """
    bot.reply_to(message, welcome_text)

@bot.message_handler(commands=['help'])
def send_help(message):
    help_text = """
๐ ุฑุงูููุง ุงุณุชูุงุฏู:

๐ฎ /tarot - ุฏุฑุงูุช ูุงู ุชฺฉ ูุช
โ /help - ููุงุด ุงู ุฑุงูููุง

ูุญูู ุงุณุชูุงุฏู:
1๏ธโฃ ุณูุงูุช ุฑู ุจุง ุฏูุช ูฺฉุฑ ฺฉู
2๏ธโฃ ุฏุณุชูุฑ /tarot ุฑู ุจุฒู
3๏ธโฃ ฺฉุงุฑุช ุชุงุฑูุช ู ุชูุณุฑุด ุฑู ุฏุฑุงูุช ฺฉู

๐ก ูฺฉุชู: ุณูุงูุงุช ูุงุถุญ ู ูุดุฎุต ุจูุชุฑู ูพุงุณุฎ ุฑู ูุฏู!
    """
    bot.reply_to(message, help_text)

@bot.message_handler(commands=['tarot'])
def tarot_reading(message):
    # ุงูุชุฎุงุจ ุชุตุงุฏู ฺฉุงุฑุช
    card_name = random.choice(list(tarot_cards.keys()))
    card_meaning = tarot_cards[card_name]
    motivational_msg = random.choice(motivational_messages)
    
    # ุณุงุฎุช ูพุงู ูุงู
    reading_text = f"""
๐ฎ **ูุงู ุชฺฉ ูุช ุดูุง:**

๐ด **ฺฉุงุฑุช:** {card_name}

๐ **ุชูุณุฑ:** 
{card_meaning}

{motivational_msg}

โโโโโโโโโโโโโโโโ
๐ซ ุงู ูุงู ุฑุงูููุง ฺฉู ุงุณุช ู ุชุตููุงุช ููู ุจุงุฏ ุจุง ูฺฉุฑ ู ุจุฑุฑุณ ฺฏุฑูุชู ุดูุฏ
    """
    
    # ุงุฌุงุฏ ฺฉุจูุฑุฏ ุจุฑุง ูุงู ุฌุฏุฏ
    markup = types.InlineKeyboardMarkup()
    new_reading_btn = types.InlineKeyboardButton("๐ ูุงู ุฌุฏุฏ", callback_data="new_tarot")
    markup.add(new_reading_btn)
    
    bot.reply_to(message, reading_text, parse_mode='Markdown', reply_markup=markup)

@bot.callback_query_handler(func=lambda call: call.data == "new_tarot")
def new_tarot_reading(call):
    # ุงูุชุฎุงุจ ฺฉุงุฑุช ุฌุฏุฏ
    card_name = random.choice(list(tarot_cards.keys()))
    card_meaning = tarot_cards[card_name]
    motivational_msg = random.choice(motivational_messages)
    
    reading_text = f"""
๐ฎ **ูุงู ุฌุฏุฏ ุดูุง:**

๐ด **ฺฉุงุฑุช:** {card_name}

๐ **ุชูุณุฑ:** 
{card_meaning}

{motivational_msg}

โโโโโโโโโโโโโโโโ
๐ซ ุงู ูุงู ุฑุงูููุง ฺฉู ุงุณุช ู ุชุตููุงุช ููู ุจุงุฏ ุจุง ูฺฉุฑ ู ุจุฑุฑุณ ฺฏุฑูุชู ุดูุฏ
    """
    
    markup = types.InlineKeyboardMarkup()
    new_reading_btn = types.InlineKeyboardButton("๐ ูุงู ุฌุฏุฏ", callback_data="new_tarot")
    markup.add(new_reading_btn)
    
    bot.edit_message_text(reading_text, call.message.chat.id, call.message.message_id, 
                         parse_mode='Markdown', reply_markup=markup)

@bot.message_handler(func=lambda message: True)
def handle_message(message):
    # ูพุงุณุฎ ุจู ูพุงูโูุง ุนุงุฏ
    responses = [
        "๐ฎ ุจุฑุง ุฏุฑุงูุช ูุงู ุชุงุฑูุชุ ุฏุณุชูุฑ /tarot ุฑู ุจุฒู!",
        "โจ ุขูุงุฏูโุง ุจุฑุง ฺฉุดู ุขูุฏูุ /tarot ุฑู ุงูุชุญุงู ฺฉู!",
        "๐ ูุงู ุชุงุฑูุช ููุชุธุฑุชู! ููุท /tarot ุจุฒู"
    ]
    
    bot.reply_to(message, random.choice(responses))

if __name__ == "__main__":
    print("ุฑุจุงุช ุชุงุฑูุช ุดุฑูุน ุดุฏ...")
    bot.infinity_polling()